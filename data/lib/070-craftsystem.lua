configProfissoes = {
	nivelMaximoProfissao = 100,
	skill = 1,
	skillExp = 2,
	receitasFabricadas = 3,
	receitasFalhadas = 4,
	pontosProfissao = 5,
	ultimaReceita = 6,
	ingredienteMelhoria = 7,
	receitasInicio = 10,
	ultimasReceitasFalhadas = 500,
	modalInfo = 1,
	modalLista1 = 2,
	modalLista2 = 3,
	modalLista3 = 4,
	actionItemDesativado = 2500,
	pocaoCD = 700,
	pocaoChanceStorage = 19900,
	pocaoProfissaoStorage = 19901,
	pocoes = {
		[21309] = {duracao = 10},
		[21426] = {duracao = 10}
	},
	maxQuantidadeFabricacao = 10
}
profissoes = {
	[20000] = {
		nome = "Ferreiro",
		mesaTrabalho = {2555, 8671},
		mesaTrabalhando = {},
		receitas = {
			{item = 2471, nivel = 50, nivelJogador = 1, ferramenta = 2444, materiais = {{8679, 1}, {15515, 3}, {5904, 1}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 1, ocultar = 1, atributos = {armadura = {0, 3}}},
			{item = 2466, nivel = 50, nivelJogador = 1, ferramenta = 2444, materiais = {{8682, 1}, {15515, 3}, {5904, 1}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2470, nivel = 50, nivelJogador = 1, ferramenta = 2444, materiais = {{8678, 1}, {15515, 3}, {5904, 1}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2646, nivel = 50, nivelJogador = 1, ferramenta = 2444, materiais = {{9817, 1}, {15515, 3}, {5904, 1}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2493, nivel = 50, nivelJogador = 1, ferramenta = 2421, materiais = {{8679, 1}, {6558, 10}, {6500, 5}, {5888, 3}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2494, nivel = 50, nivelJogador = 1, ferramenta = 2421, materiais = {{8682, 1}, {6558, 10}, {5954, 5}, {5888, 3}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2495, nivel = 50, nivelJogador = 1, ferramenta = 2421, materiais = {{8678, 1}, {6558, 10}, {6500, 5}, {5888, 3}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2520, nivel = 50, nivelJogador = 1, ferramenta = 2421, materiais = {{9814, 1}, {6558, 10}, {11057, 5}, {5888, 3}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {defesa = {0, 3}}},
			{item = 2506, nivel = 70, nivelJogador = 1, ferramenta = 2434, materiais = {{8679, 1}, {5920, 10}, {5882, 5}, {5889, 3}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2492, nivel = 70, nivelJogador = 1, ferramenta = 2434, materiais = {{8682, 1}, {5920, 10}, {5882, 5}, {5889, 3}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2469, nivel = 70, nivelJogador = 1, ferramenta = 2434, materiais = {{8678, 1}, {5920, 10}, {5882, 5}, {5889, 3}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2522, nivel = 70, nivelJogador = 1, ferramenta = 2434, materiais = {{9814, 1}, {5920, 10}, {5882, 5}, {5889, 3}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {defesa = {0, 3}}},
			{item = 2516, nivel = 15, nivelJogador = 1, ferramenta = 2434, materiais = {{9814, 1}, {5920, 10}, {12413, 5}, {21401, 1}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {defesa = {0, 3}}},
			{item = 15406, nivel = 80, nivelJogador = 1, ferramenta = 7450, materiais = {{8682, 1}, {15434, 1}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 15412, nivel = 80, nivelJogador = 1, ferramenta = 7450, materiais = {{8678, 1}, {15436, 1}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 15413, nivel = 80, nivelJogador = 1, ferramenta = 7450, materiais = {{9814, 1}, {15435, 1}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {defesa = {0, 4}}},
			{item = 18403, nivel = 75, nivelJogador = 1, ferramenta = 7450, materiais = {{8679, 1}, {11227, 1}, {18422, 5}, {18423, 2}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 18404, nivel = 75, nivelJogador = 1, ferramenta = 7450, materiais = {{8682, 1}, {11227, 1}, {18422, 5}, {18423, 2}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 18405, nivel = 75, nivelJogador = 1, ferramenta = 7450, materiais = {{8678, 1}, {11227, 1}, {18422, 5}, {18423, 2}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 18406, nivel = 75, nivelJogador = 1, ferramenta = 7450, materiais = {{9817, 1}, {11227, 1}, {18422, 5}, {18423, 2}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 18410, nivel = 75, nivelJogador = 1, ferramenta = 7450, materiais = {{9814, 1}, {11227, 1}, {18422, 5}, {18423, 2}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {defesa = {0, 3}}},
			{item = 11302, nivel = 50, nivelJogador = 1, ferramenta = 2422, materiais = {{8679, 1}, {5876, 5}, {11334, 1}, {5880, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 11301, nivel = 50, nivelJogador = 1, ferramenta = 2422, materiais = {{8682, 1}, {5876, 5}, {11332, 1}, {5880, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 11304, nivel = 50, nivelJogador = 1, ferramenta = 2422, materiais = {{8678, 1}, {5876, 5}, {11330, 1}, {5880, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 11303, nivel = 50, nivelJogador = 1, ferramenta = 2422, materiais = {{9817, 1}, {5876, 5}, {11326, 1}, {5880, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 12645, nivel = 65, nivelJogador = 1, ferramenta = 2434, materiais = {{8679, 1}, {5881, 10}, {11333, 5}, {11331, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 12642, nivel = 65, nivelJogador = 1, ferramenta = 2434, materiais = {{8682, 1}, {5881, 10}, {12616, 5}, {12615, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 12646, nivel = 65, nivelJogador = 1, ferramenta = 2434, materiais = {{12660, 1}, {5881, 10}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 12607, nivel = 65, nivelJogador = 1, ferramenta = 2434, materiais = {{8682, 1}, {5881, 10}, {12616, 5}, {12629, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 12644, nivel = 65, nivelJogador = 1, ferramenta = 7450, materiais = {{9814, 1}, {12628, 10}, {12629, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {defesa = {0, 3}}},
			{item = 15408, nivel = 85, nivelJogador = 1, ferramenta = 2321, materiais = {{8679, 1}, {15423, 5}, {15430, 5}, {5880, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 15407, nivel = 85, nivelJogador = 1, ferramenta = 2321, materiais = {{8682, 1}, {15455, 5}, {15430, 5}, {5880, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 15409, nivel = 85, nivelJogador = 1, ferramenta = 2321, materiais = {{8678, 1}, {15426, 5}, {15430, 5}, {5880, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 15410, nivel = 85, nivelJogador = 1, ferramenta = 2321, materiais = {{9817, 1}, {15425, 5}, {15430, 5}, {5880, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 15491, nivel = 55, nivelJogador = 1, ferramenta = 2242, materiais = {{11369, 2}, {15482, 2}, {15483, 2}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {defesa = {0, 3}}},
			{item = 2491, nivel = 70, nivelJogador = 1, ferramenta = 2422, materiais = {{2128, 1}, {5887, 2}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2487, nivel = 40, nivelJogador = 1, ferramenta = 2422, materiais = {{8682, 1}, {5887, 2}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2488, nivel = 40, nivelJogador = 1, ferramenta = 2422, materiais = {{8678, 1}, {5887, 2}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2519, nivel = 40, nivelJogador = 1, ferramenta = 2422, materiais = {{9814, 1}, {5887, 2}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {defesa = {0, 3}}},
			{item = 2499, nivel = 45, nivelJogador = 1, ferramenta = 2422, materiais = {{8679, 1}, {7249, 10}, {12399, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2500, nivel = 45, nivelJogador = 1, ferramenta = 2422, materiais = {{8682, 1}, {7249, 10}, {12399, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2537, nivel = 45, nivelJogador = 1, ferramenta = 2422, materiais = {{9814, 1}, {7249, 10}, {12399, 5}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {defesa = {0, 3}}},
			{item = 2476, nivel = 30, nivelJogador = 1, ferramenta = 2422, materiais = {{8682, 1}, {5880, 10}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2477, nivel = 30, nivelJogador = 1, ferramenta = 2422, materiais = {{8678, 1}, {5880, 10}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2502, nivel = 20, nivelJogador = 1, ferramenta = 2422, materiais = {{8679, 1}, {5880, 5}, {5900, 1}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2503, nivel = 20, nivelJogador = 1, ferramenta = 2422, materiais = {{8682, 1}, {5880, 5}, {5900, 1}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2504, nivel = 20, nivelJogador = 1, ferramenta = 2422, materiais = {{8678, 1}, {5880, 5}, {5900, 1}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {armadura = {0, 3}}},
			{item = 2525, nivel = 10, nivelJogador = 1, ferramenta = 2422, materiais = {{9814, 1}, {5880, 5}, {5900, 1}}, fabricarQuantidade = 1, tempo = 0, experiencia = 10, pontos = 10, chanceSucesso = 1000, maxChanceSucesso = 2000, aprender = 0, atributos = {defesa = {0, 3}}},
		},
		mensagem = "A forja permite você criar equipamentos únicos e poderosos, basta você ter os materiais necessários para isso.",
		efeitoTrabalhando = CONST_ME_BLOCKHIT,
		efeitoSucesso = CONST_ME_FIREWORK_RED,
		efeitoFalha = CONST_ME_POFF,
		ingredientesMelhoria = {
			{item = 18413, chance = 1500},
			{item = 18414, chance = 1500},
			{item = 18415, chance = 1500},
			{item = 18416, chance = 1000},
			{item = 18417, chance = 1000},
			{item = 18418, chance = 1000},
			{item = 18419, chance = 500},
			{item = 18420, chance = 500},
			{item = 18421, chance = 500}
		},
		extraData = {}
	},
	[21000] = {
		nome = "Alquimista",
		mesaTrabalho = {9909, 9910},
		mesaTrabalhando = {},
		receitas = {
			{item = 7618, nivel = 1, nivelJogador = 1, ferramenta = 1965, materiais = {{2148, 1}}, fabricarQuantidade = 1, ingredienteSecreto = {2152, 1, 1000}, tempo = 0, experiencia = 100, pontos = 10, chanceSucesso = 5000, aprender = 0, atributos = {health = {50, 60}}},
			{item = 21309, nome = "Profession Potion [Profissão: Aleatória]", nivel = 1, nivelJogador = 1, ferramenta = 1965, materiais = {{2148, 1}}, tempo = 0, experiencia = 100, pontos = 10, chanceSucesso = 10000, aprender = 0, atributos = {profissao = 1, chance = {8, 13}}},
			{item = 21309, nome = "Profession Potion [Profissão: Alquimista]", nivel = 1, nivelJogador = 1, ferramenta = 1965, materiais = {{2148, 1}}, tempo = 0, experiencia = 100, pontos = 10, chanceSucesso = 10000, aprender = 0, atributos = {profissao = "alquimista", chance = {8, 13}}},
			{item = 21309, nome = "Profession Potion [Profissão: Alfaiate]", nivel = 1, nivelJogador = 1, ferramenta = 1965, materiais = {{2148, 1}}, tempo = 0, experiencia = 100, pontos = 10, chanceSucesso = 10000, aprender = 0, atributos = {profissao = "alfaiate", chance = {8, 13}}},
			{item = 21309, nome = "Profession Potion [Profissão: Cozinheiro]", nivel = 1, nivelJogador = 1, ferramenta = 1965, materiais = {{2148, 1}}, tempo = 0, experiencia = 100, pontos = 10, chanceSucesso = 10000, aprender = 0, atributos = {profissao = "cozinheiro", chance = {8, 13}}},
			{item = 21309, nome = "Profession Potion [Profissão: Ferreiro]", nivel = 1, nivelJogador = 1, ferramenta = 1965, materiais = {{2148, 1}}, tempo = 0, experiencia = 100, pontos = 10, chanceSucesso = 10000, aprender = 0, atributos = {profissao = "ferreiro", chance = {8, 13}}},
			{item = 21426, nivel = 1, nivelJogador = 1, ferramenta = 1965, materiais = {{2148, 1}}, tempo = 0, experiencia = 100, pontos = 10, chanceSucesso = 10000, aprender = 0, atributos = {chance = {8, 13}}},
		},
		mensagem = "A alquimia permite você criar poções únicas e encantamentos poderosos, basta você ter os materiais necessários para isso.",
		efeitoTrabalhando = CONST_ME_BLOCKHIT,
		efeitoSucesso = CONST_ME_FIREWORK_BLUE,
		efeitoFalha = CONST_ME_POFF,
		ingredientesMelhoria = {
			{item = 22472, chance = 1000},
			{item = 22473, chance = 1500},
		},
		extraData = {}
	},
	[22000] = {
		nome = "Alfaiate",
		mesaTrabalho = {10086},
		mesaTrabalhando = {},
		receitas = {
			{item = 7439, nivel = 1, nivelJogador = 1, ferramenta = 1965, materiais = {{7636, 1}, {2798, 1}}, tempo = 2, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
		},
		mensagem = "Ser um alfaiate permite você criar vestimentas únicas e equipamentos poderosos, basta você ter os materiais necessários para isso.",
		efeitoTrabalhando = CONST_ME_BLOCKHIT,
		efeitoSucesso = CONST_ME_FIREWORK_BLUE,
		efeitoFalha = CONST_ME_POFF,
		ingredientesMelhoria = {
			{item = 13193, chance = 500},
			{item = 13194, chance = 500},
			{item = 13195, chance = 500},
			{item = 13196, chance = 1500},
			{item = 13197, chance = 1500},
			{item = 13198, chance = 1500},
			{item = 13213, chance = 1000},
			{item = 13214, chance = 1000},
			{item = 13215, chance = 1000},
		},
		extraData = {}
	},
	[23000] = {
		nome = "Cozinheiro",
		mesaTrabalho = {1787, 1789, 1791, 1793},
		mesaTrabalhando = {1786, 1788, 1790, 1792},
		receitas = {
			{item = 9992, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{11192, 2}, {2671, 5}, {8838, 3}, {2787, 3}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 9993, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{7259, 3}, {8838, 3}, {8842, 5}, {2805, 2}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 9994, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{12638, 3}, {11429, 3}, {2795, 4}, {2677, 3}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 9995, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{11190, 2}, {2006, 2, 3}, {8841, 2}, {7909, 7}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 9996, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{6574, 1}, {2676, 10}, {2006, 1, 6}, {2800, 1}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 9997, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{12639, 2}, {12416, 3}, {12418, 4}, {12417, 4}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 9998, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{8844, 5}, {2666, 5}, {2096, 1}, {2685, 2}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 9999, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{2672, 5}, {8843, 2}, {9114, 4}, {8844, 2}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 10000, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{2685, 5}, {2695, 2}, {2692, 5}, {2006, 1, 6}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 10001, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{7963, 1}, {2689, 1}, {2667, 7}, {2696, 4}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 12540, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{2678, 2}, {2670, 8}, {2789, 1}, {8845, 2}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 12542, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{8844, 4}, {8838, 4}, {2006, 2, 14}, {2686, 3}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 12543, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{6500, 1}, {6569, 8}, {6574, 2}, {8840, 2}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 12544, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{20100, 1}, {12415, 4}, {2006, 4, 14}, {7910, 4}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}},
			{item = 12637, nivel = 1, nivelJogador = 1, ferramenta = 2347, materiais = {{11246, 5}, {2668, 3}, {2669, 3}, {2800, 2}}, tempo = 5, experiencia = 100, pontos = 10, chanceSucesso = 8000, aprender = 0, atributos = {}}
		},
		mensagem = "Cozinhar permite você criar comidas únicas e poderosos, basta você ter os materiais necessários para isso.",
		efeitoTrabalhando = CONST_ME_SMOKE,
		efeitoSucesso = CONST_ME_FIREWORK_BLUE,
		efeitoFalha = CONST_ME_BLACKSMOKE,
		extraData = {}
	}
}
listaProfissoes = {}
listaProfissoesNomes = {}
listaProfissoesInfo = {}
listaProfissoesLista1 = {}
listaProfissoesLista2 = {}
listaProfissoesLista3 = {}
listaProfissoesReceitas = {}
for a, b in pairs(profissoes) do
	table.insert(listaProfissoes, a)
	table.insert(listaProfissoesNomes, string.lower(b.nome))
	table.insert(listaProfissoesInfo, a+configProfissoes.modalInfo)
	table.insert(listaProfissoesLista1, a+configProfissoes.modalLista1)
	table.insert(listaProfissoesLista2, a+configProfissoes.modalLista2)
	table.insert(listaProfissoesLista3, a+configProfissoes.modalLista3)
	for c, d in pairs(b.receitas) do
		table.insert(listaProfissoesReceitas, a+c+configProfissoes.receitasInicio)
	end
end
function doCalcLevel(n)
	if n == 0 then
		return 0
	else
		o = 0
		if n ~= 1 then
			o = math.pow((0.188*(math.pow(n, 1.4))), 2)+10
		end
		return math.max(0, (n-1)*40+o)+doCalcLevel(n-1)
	end
end
function doCalcLevelPontos(n)
	if n == 0 then
		return 0
	else
		return math.max(0, (n-1)*2+math.pow((0.01*(math.pow(n, 0.2))), 2)+10)+doCalcLevelPontos(n-1)
	end
end
function calcularLevelProfissao(n)
	return math.floor(doCalcLevel(n))
end
function calcularPontosProfissao(n)
	return math.floor(doCalcLevelPontos(n))
end
function verificiarProfissao(value, verificarReceita)
	for a, b in pairs(profissoes) do
		if verificarReceita == nil then
			if	a+configProfissoes.modalInfo == value or
				a+configProfissoes.modalLista1 == value or
				a+configProfissoes.modalLista2 == value or
				a+configProfissoes.modalLista3 == value then
				return a
			end
		else
			for c, d in pairs(b.receitas) do
				if a+c+configProfissoes.receitasInicio == value then
					return {a, c}
				end
			end
		end
	end
	return 0
end
function verificiarProfissaoPorNome(value)
	for a, b in pairs(profissoes) do
		if string.lower(b.nome) == value then
			return a
		end
	end
	return 0
end
function ordenarReceitasPorNome(receitas)
	local nomesReceitas, exibirReceitas = {}, {}
	for a, b in pairs(receitas) do
		local nomeReceita = capAll(getItemName(b.item))
		if b.nome ~= nil then
			nomeReceita = b.nome
		end
		table.insert(nomesReceitas, nomeReceita)
	end
	local sortedKeys = getKeysSortedByValue(nomesReceitas, function(a, b) return a < b end)
	for _, k in ipairs(sortedKeys) do
		table.insert(exibirReceitas, {k, nomesReceitas[k]})
	end
	return exibirReceitas
end
function Player.getProfissaoSkill(self, profissaoId)
	return math.max(1, self:getStorageValue(profissaoId+configProfissoes.skill))
end
function Player.getProfissaoSkillExp(self, profissaoId)
	return math.max(0, self:getStorageValue(profissaoId+configProfissoes.skillExp))
end
function Player.getProfissaoSkillExpProximoNivel(self, profissaoId)
	local skill = math.max(1, self:getStorageValue(profissaoId+configProfissoes.skill))
	local skillExp = math.max(0, self:getStorageValue(profissaoId+configProfissoes.skillExp))
	return calcularLevelProfissao(skill+1)-skillExp
end
function Player.getProfissaoSkillPorcentagem(self, profissaoId)
	local skillExp = self:getProfissaoSkillExp(profissaoId)
	local skillExpProximoNivel = self:getProfissaoSkillExpProximoNivel(profissaoId)+skillExp
	local percent = math.floor(100*skillExp/skillExpProximoNivel)
	if percent >= 0 and percent <= 100 then
		return percent
	else
		return 0
	end
end
function Player.addProfissaoSkill(self, profissaoId)
	local profissao = profissoes[profissaoId]
	local storageSkill = profissaoId+configProfissoes.skill
	local storageSkillExp = profissaoId+configProfissoes.skillExp
	local skill = self:getProfissaoSkill(profissaoId)+1
	self:setStorageValue(storageSkill, skill)
	self:setStorageValue(storageSkillExp, 0)
	self:sendTextMessage(MESSAGE_EVENT_ADVANCE, "Você avançou seu nível de "..string.lower(profissao.nome).." para "..skill..".")
	self:addProfissaoPontos(profissaoId, calcularPontosProfissao(skill))
end
function Player.addProfissaoSkillExp(self, profissaoId, experiencia)
	local storageSkillExp = profissaoId+configProfissoes.skillExp
	local skill = self:getProfissaoSkill(profissaoId)
	local skillExp = self:getProfissaoSkillExp(profissaoId)
	local skillExpProxLevel = calcularLevelProfissao(skill+1)
	local novaExperiencia = 0
	if skill < configProfissoes.nivelMaximoProfissao and experiencia + skillExp >= skillExpProxLevel then
		novaExperiencia = experiencia+skillExp-skillExpProxLevel
		self:addProfissaoSkill(profissaoId)
	else
		novaExperiencia = skillExp+experiencia
	end
	self:setStorageValue(storageSkillExp, novaExperiencia)
end
function Player.getProfissaoPontos(self, profissaoId)
	return math.max(0, self:getStorageValue(profissaoId+configProfissoes.pontosProfissao))
end
function Player.addProfissaoPontos(self, profissaoId, pontos)
	local profissao = profissoes[profissaoId]
	local storagePontos = profissaoId+configProfissoes.pontosProfissao
	local pontosTotais = self:getProfissaoPontos(profissaoId)+pontos
	self:setStorageValue(storagePontos, pontosTotais)
	self:sendTextMessage(MESSAGE_EVENT_ADVANCE, "Você recebeu "..pontos.." pontos de "..string.lower(profissao.nome)..". Você possui um total de "..pontosTotais.." pontos.")
end
function Player.getProfissaoReceitasFabricadas(self, profissaoId)
	return math.max(0, self:getStorageValue(profissaoId+configProfissoes.receitasFabricadas))
end
function Player.addProfissaoReceitasFabricadas(self, profissaoId)
	local storageReceitasFabricadas = profissaoId+configProfissoes.receitasFabricadas
	local receitasFabricadas = math.max(0, self:getStorageValue(storageReceitasFabricadas))
	self:setStorageValue(storageReceitasFabricadas, receitasFabricadas+1)
end
function Player.getProfissaoReceitasFalhadas(self, profissaoId)
	return math.max(0, self:getStorageValue(profissaoId+configProfissoes.receitasFalhadas))
end
function Player.addProfissaoReceitasFalhadas(self, profissaoId)
	local storageReceitasFalhadas = profissaoId+configProfissoes.receitasFalhadas
	local receitasFalhadas = math.max(0, self:getStorageValue(storageReceitasFalhadas))
	self:setStorageValue(storageReceitasFalhadas, receitasFalhadas+1)
end
function Player.addProfissaoUltimaReceita(self, profissaoId, receitaId)
	self:setStorageValue(profissaoId+configProfissoes.ultimaReceita, receitaId)
end
function Player.getProfissaoUltimaReceita(self, profissaoId)
	return math.max(0, self:getStorageValue(profissaoId+configProfissoes.ultimaReceita))
end
function Player.getProfissaoUltimasReceitasFalhadas(self, profissaoId, receitaId)
	return math.floor(math.max(0, self:getStorageValue(profissaoId+configProfissoes.ultimasReceitasFalhadas+receitaId))*50)
end
function Player.addProfissaoUltimasReceitasFalhadas(self, profissaoId, receitaId)
	local storageUltimasReceitasFalhadas = profissaoId+configProfissoes.ultimasReceitasFalhadas+receitaId
	local ultimasReceitasFalhadas = math.max(0, self:getStorageValue(storageUltimasReceitasFalhadas))
	self:setStorageValue(storageUltimasReceitasFalhadas, ultimasReceitasFalhadas+1)
end
function Player.resetProfissaoUltimasReceitasFalhadas(self, profissaoId, receitaId)
	self:setStorageValue(profissaoId+configProfissoes.ultimasReceitasFalhadas+receitaId, 0)
end
function Player.getProfissaoBonusAdicional(self, profissaoId)
	local nivel = self:getProfissaoSkill(profissaoId)
	return math.floor(0.05*nivel)
end
function Player.getProfissaoIngredienteMelhoria(self, profissaoId)
	return math.max(0, self:getStorageValue(profissaoId+configProfissoes.ingredienteMelhoria))
end
function Player.addProfissaoIngredienteMelhoria(self, profissaoId, ingredienteMelhoria)
	self:setStorageValue(profissaoId+configProfissoes.ingredienteMelhoria, ingredienteMelhoria)
end
function Player.resetProfissaoIngredienteMelhoria(self, profissaoId)
	self:addProfissaoIngredienteMelhoria(profissaoId, 0)
end
function Player.getProfissaoChanceSucessoAdicional(self, profissaoId)
	local nivel = self:getProfissaoSkill(profissaoId)
	local chanceSucessoAdicional = (20*(nivel-1))
	local pocaoProfissaoStorage = self:getStorageValue(configProfissoes.pocaoProfissaoStorage)
	if	((pocaoProfissaoStorage > 1 and pocaoProfissaoStorage == profissaoId) or (pocaoProfissaoStorage == 1)) and
		getCreatureCondition(self, CONDITION_ATTRIBUTES, configProfissoes.pocaoCD) then
		chanceSucessoAdicional = chanceSucessoAdicional+(math.max(0, self:getStorageValue(configProfissoes.pocaoChanceStorage))*100)
	end
	return chanceSucessoAdicional
end
function Player.getProfissaoChanceColetaAdicional(self, profissaoId)
	local nivel = self:getProfissaoSkill(profissaoId)
	return (40*(nivel-1))
end
function Player.getProfissaoChanceSucessoReceita(self, profissaoId, receitaId)
	local profissao = profissoes[profissaoId]
	local receita = profissao.receitas[receitaId]
	local chanceSucessoAdicional = self:getProfissaoChanceSucessoAdicional(profissaoId)
	local chanceSucessoUltimasReceitasFalhadas = self:getProfissaoUltimasReceitasFalhadas(profissaoId, receitaId)
	local chanceSucesso = receita.chanceSucesso
	local maxChanceSucesso = receita.maxChanceSucesso
	local chanceSucessoReceita = chanceSucesso+chanceSucessoUltimasReceitasFalhadas+chanceSucessoAdicional
	local ingredienteSecreto = receita.ingredienteSecreto
	if ingredienteSecreto ~= nil and self:getItemCount(ingredienteSecreto[1]) >= ingredienteSecreto[2] then
		chanceSucessoReceita = chanceSucessoReceita+ingredienteSecreto[3]
	end
	local ingredienteMelhoria = profissao.ingredientesMelhoria[self:getProfissaoIngredienteMelhoria(profissaoId)]
	if ingredienteMelhoria ~= nil and self:getItemCount(ingredienteMelhoria.item) > 0 then
		chanceSucessoReceita = chanceSucessoReceita+ingredienteMelhoria.chance
	end
	if maxChanceSucesso ~= nil then
		chanceSucessoReceita = math.max(chanceSucessoReceita, maxChanceSucesso)
	end
	chanceSucessoReceita = math.min(10000, chanceSucessoReceita)
	return chanceSucessoReceita
end
function Player.getProfissaoReceitaAprendizado(self, profissaoId, receitaId)
	return math.max(0, self:getStorageValue(profissaoId+configProfissoes.receitasInicio+receitaId))
end
function Player.addProfissaoReceitaAprendizado(self, profissaoId, receitaId)
	local storageReceitasInicio = profissaoId+configProfissoes.receitasInicio+receitaId
	self:setStorageValue(storageReceitasInicio, 1)
end
function Player.getPosicaoMesaTrabalho(self, profissaoId)
	local extraData = profissoes[profissaoId].extraData[self:getId()]
	local posicaoMesaTrabalho = extraData.mesaTrabalho:getPosition()
	local posicaoEfeitoMesaTrabalho = extraData.mesaTrabalho:getPosition()
	local mesaTrabalho = extraData.mesaTrabalho:getType():getId()
	if mesaTrabalho == 1786 then
		posicaoEfeitoMesaTrabalho.x = posicaoEfeitoMesaTrabalho.x+1
		posicaoEfeitoMesaTrabalho.y = posicaoEfeitoMesaTrabalho.y-1
	elseif mesaTrabalho == 1788 then
		posicaoEfeitoMesaTrabalho.x = posicaoEfeitoMesaTrabalho.x+1
		posicaoEfeitoMesaTrabalho.y = posicaoEfeitoMesaTrabalho.y-1
	elseif mesaTrabalho == 1790 then
		posicaoEfeitoMesaTrabalho.x = posicaoEfeitoMesaTrabalho.x+1
	end
	return {mesaTrabalho = posicaoMesaTrabalho, efeito = posicaoEfeitoMesaTrabalho}
end
function Player.getProfissaoModalQuantidade(self, profissaoId, receitaId, cristalAtivo)
	local profissao = profissoes[profissaoId]
	local receita = profissao.receitas[receitaId]
	local modalId = profissaoId+configProfissoes.receitasInicio+receitaId
	local modalTitulo = self:getProfissaoModalTitulo(profissaoId).." - Selecione a Quantidade"
	local modalMensagem = "Selecione a quantidade de itens que deseja fabricar.\n\nClique no botão 'Criar', tecle 'Enter' ou dê dois cliques para iniciar o processo de fabricação.\n\n"
	local modal = ModalWindow(modalId, modalTitulo, modalMensagem)
	local quantidadePossivel = self:verificarJogadorItensReceita(profissaoId, receitaId, configProfissoes.maxQuantidadeFabricacao)
	for i = 1, quantidadePossivel do
		modal:addChoice(i, i)
	end
	modal:setDefaultEnterButton(1)
	modal:addButton(1, "Criar")
	modal:addButton(2, "Sair")
	modal:setDefaultEscapeButton(2)
	return modal
end
function Player.getProfissaoModalPrincipal(self, profissaoId)
	local profissao = profissoes[profissaoId]
	local profissaoMensagem = profissao.mensagem
	local profissaoNome = profissao.nome
	local profissaoNivel = self:getProfissaoSkill(profissaoId)
	local profissaoExpPorcentagem = self:getProfissaoSkillPorcentagem(profissaoId)
	local modalTitulo = profissaoNome.." - Nível: "..profissaoNivel.." ("..profissaoExpPorcentagem.."%)"
	local modalMensagem = profissaoMensagem.."\n\nO que você deseja fazer?\n"
	local modal = ModalWindow(profissaoId, modalTitulo, modalMensagem)
	local receitaId = self:getProfissaoUltimaReceita(profissaoId)
	if receitaId > 0 and self:verificarJogadorItensReceita(profissaoId, receitaId) > 0 then
		modal:addChoice(5, "Fabricar Última Receita")
	end
	modal:addChoice(1, "Informações da Profissão")
	modal:addChoice(2, "Lista de Receitas - Prontas para Fabricação")
	modal:addChoice(3, "Lista de Receitas - Conhecidas")
	modal:addChoice(4, "Lista de Receitas - Geral")
	modal:addButton(1, "Ok")
	modal:setDefaultEnterButton(1)
	modal:addButton(2, "Sair")
	modal:setDefaultEscapeButton(2)
	return modal
end
function Player.getProfissaoModalTitulo(self, profissaoId)
	local profissao = profissoes[profissaoId]
	local profissaoNome = profissao.nome
	local profissaoNivel = self:getProfissaoSkill(profissaoId)
	local profissaoExpPorcentagem = self:getProfissaoSkillPorcentagem(profissaoId)
	return profissaoNome.." - Nível: "..profissaoNivel.." ("..profissaoExpPorcentagem.."%)"
end
function Player.verificarJogadorItensReceita(self, profissaoId, receitaId, quantidade)
	if quantidade == nil then
		quantidade = 1
	end
	local profissao = profissoes[profissaoId]
	local receita = profissao.receitas[receitaId]
	local ferramenta = receita.ferramenta
	local materiais = receita.materiais
	local quantidadePossivel = 0
	if self:getItemCount(ferramenta) == 0 then
		return quantidadePossivel
	end
	local verificarQuantidade = 0
	for i = 1, quantidade do
		for a, b in pairs(materiais) do
			if b[3] ~= -1 then
				b[3] = -1
			end
			verificarQuantidade = verificarQuantidade+b[2]
			if	self:getItemCount(b[1], b[3]) < verificarQuantidade or
				quantidade == quantidadePossivel then
				return quantidadePossivel
			else
				quantidadePossivel = quantidadePossivel+1
			end
		end
	end
	return quantidadePossivel
end
function Player.iniciarReceitaQuantidade(self, profissaoId, receitaId, quantidadeTotal, quantidadeAtual, tempo)
	if quantidadeAtual == 0 then
		self:allowMovement(false)
	end
	if quantidadeAtual == 0 then
		delay = 0
	else
		delay = tempo+1
	end
	addEvent(function(self, profissaoId, receitaId, quantidadeTotal, quantidadeAtual, tempo)
		local bloquearMovimento = 1
		if quantidadeAtual == quantidadeTotal then
			bloquearMovimento = 0
		end
		local iniciarReceita = self:iniciarReceita(profissaoId, receitaId, bloquearMovimento)
		if iniciarReceita and quantidadeAtual < quantidadeTotal then
			self:iniciarReceitaQuantidade(profissaoId, receitaId, quantidadeTotal, quantidadeAtual, tempo)
		elseif not iniciarReceita then
			self:resetProfissaoIngredienteMelhoria(profissaoId)
			self:allowMovement(true)
		end
	end, delay*1000, self, profissaoId, receitaId, quantidadeTotal, quantidadeAtual+1, tempo)
end
function Player.getIngredientesMelhoria(self, profissaoId)
	local profissao = profissoes[profissaoId]
	local ingredientesMelhoria = profissao.ingredientesMelhoria
	local ingredientesMelhoriaDisponiveis = {}
	for a, b in pairs(ingredientesMelhoria) do
		if self:getItemCount(b.item) > 0 then
			table.insert(ingredientesMelhoriaDisponiveis, a+configProfissoes.receitasInicio)
		end
	end
	return ingredientesMelhoriaDisponiveis
end
function Player.iniciarReceita(self, profissaoId, receitaId, bloquearMovimento)
	local mesaTrabalho = profissoes[profissaoId].extraData[self:getId()].mesaTrabalho
	local actionItemDesativado = configProfissoes.actionItemDesativado
	if mesaTrabalho:getActionId() == actionItemDesativado then
		return false
	end
	local profissao = profissoes[profissaoId]
	local profissaoNivel = self:getProfissaoSkill(profissaoId)
	local efeitoTrabalhando = profissao.efeitoTrabalhando
	local mesaTrabalhoKey = searchArrayKey(profissao.mesaTrabalho, mesaTrabalho:getType():getId())
	local mesaTrabalhando = profissao.mesaTrabalhando[mesaTrabalhoKey]
	local receita = profissao.receitas[receitaId]
	local ferramenta = receita.ferramenta
	local materiais = receita.materiais
	if	profissaoNivel < receita.nivel or
		self:getLevel() < receita.nivelJogador or
		(receita.aprender == 1 and self:getProfissaoReceitaAprendizado(profissaoId, receitaId) == 0) then
		return false
	end
	if self:verificarJogadorItensReceita(profissaoId, receitaId) == 0 then
		return false
	end
	for a, b in pairs(materiais) do
		if b[3] == nil then
			b[3] = -1
		end
		self:removeItem(b[1], b[2], b[3])
	end
	mesaTrabalho:setActionId(actionItemDesativado)
	if mesaTrabalhando ~= nil then
		mesaTrabalho:transform(mesaTrabalhando)
		mesaTrabalhando = profissao.mesaTrabalho[mesaTrabalhoKey]
	end
	local tempo = receita.tempo
	local craftCD = Condition(CONDITION_SPELLCOOLDOWN)
	craftCD:setParameter(COMBAT_PARAM_AGGRESSIVE, 0)
	craftCD:setParameter(CONDITION_PARAM_SUBID, 160)
	craftCD:setParameter(CONDITION_PARAM_TICKS, (tempo+1)*1000)
	self:addCondition(craftCD)
	if bloquearMovimento == nil then
		self:allowMovement(false)
	end
	self:say("Trabalhando...", TALKTYPE_MONSTER_SAY)
	local posicaoMesaTrabalho = self:getPosicaoMesaTrabalho(profissaoId)
	function enviarAnimacao(tempo, posicao, efeito)
		if tempo > 0 then
			posicao:sendMagicEffect(efeito)
			addEvent(enviarAnimacao, 1000, tempo-1, posicao, efeito)
		end
	end
	enviarAnimacao(tempo, posicaoMesaTrabalho.efeito, efeitoTrabalhando)
	addEvent(function(self, receitaId, profissaoId, mesaTrabalhando, bloquearMovimento)
		self:fabricarItem(receitaId, profissaoId, mesaTrabalhando, bloquearMovimento) 
	end, tempo*1000, self, receitaId, profissaoId, mesaTrabalhando, bloquearMovimento)
	return true
end
function Player.fabricarItem(self, receitaId, profissaoId, mesaTrabalhando, bloquearMovimento)
	local profissao = profissoes[profissaoId]
	local mesaTrabalho = profissao.extraData[self:getId()].mesaTrabalho
	local posicaoMesaTrabalho = self:getPosicaoMesaTrabalho(profissaoId).efeito
	local efeitoSucesso = profissao.efeitoSucesso
	local efeitoFalha = profissao.efeitoFalha
	local receita = profissao.receitas[receitaId]
	local nivel = receita.nivel
	local chanceSucesso = self:getProfissaoChanceSucessoReceita(profissaoId, receitaId)
	local ingredienteSecreto = receita.ingredienteSecreto
	if ingredienteSecreto ~= nil and self:getItemCount(ingredienteSecreto[1]) >= ingredienteSecreto[2] then
		self:removeItem(ingredienteSecreto[1], ingredienteSecreto[2])
	end
	ingredienteMelhoria = self:getProfissaoIngredienteMelhoria(profissaoId)
	if ingredienteMelhoria > 0 then
		local ingredienteMelhoriaItem = profissao.ingredientesMelhoria[ingredienteMelhoria].item
		if ingredienteMelhoriaItem ~= nil and self:getItemCount(ingredienteMelhoriaItem) > 0 then
			self:removeItem(ingredienteMelhoriaItem, 1)
		end
	end
	local experiencia = receita.experiencia
	local pontos = receita.pontos
	local chance = math.random(10000)
	if chance <= chanceSucesso then
		local itemCriado = receita.item
		local atributos = receita.atributos
		local itemCriado = self:addItem(itemCriado, 1)
		if itemCriado:getType():getDescription() ~= "" then
			itemCriado:setAttribute(ITEM_ATTRIBUTE_DESCRIPTION, itemCriado:getType():getDescription().."\nCriado por "..self:getName()..".")
		else
			itemCriado:setAttribute(ITEM_ATTRIBUTE_DESCRIPTION, "Criado por "..self:getName()..".")
		end
		if receita.atributos ~= nil then
			local bonusAdicional = self:getProfissaoBonusAdicional(profissaoId)
			if itemCriado:getType():getAttack() > 0 and receita.atributos.ataque ~= nil then
				if type(receita.atributos.ataque) == "table" then
					ataqueAdicional = math.random(receita.atributos.ataque[1], receita.atributos.ataque[2])
				else
					ataqueAdicional = receita.atributos.ataque
				end
				itemCriado:setAttribute(ITEM_ATTRIBUTE_ATTACK, itemCriado:getType():getAttack()+ataqueAdicional+bonusAdicional)
			end
			if itemCriado:getType():getDefense() > 0 and receita.atributos.defesa ~= nil then
				if type(receita.atributos.defesa) == "table" then
					defesaAdicional = math.random(receita.atributos.defesa[1], receita.atributos.defesa[2])
				else
					defesaAdicional = receita.atributos.defesa
				end
				itemCriado:setAttribute(ITEM_ATTRIBUTE_DEFENSE, itemCriado:getType():getDefense()+defesaAdicional+bonusAdicional)
			end
			if itemCriado:getType():getExtraDefense() > 0 and receita.atributos.defesaExtra ~= nil then
				itemCriado:setAttribute(ITEM_ATTRIBUTE_EXTRADEFENSE, itemCriado:getType():getExtraDefense()+receita.atributos.defesaExtra)
			end
			if itemCriado:getType():getArmor() > 0 and receita.atributos.armadura ~= nil then
				if type(receita.atributos.armadura) == "table" then
					armaduraAdicional = math.random(receita.atributos.armadura[1], receita.atributos.armadura[2])
				else
					armaduraAdicional = receita.atributos.armadura
				end
				itemCriado:setAttribute(ITEM_ATTRIBUTE_ARMOR, itemCriado:getType():getArmor()+armaduraAdicional+bonusAdicional)
			end
			if itemCriado:getType():getShootRange() > 0 then
				itemCriado:setAttribute(ITEM_ATTRIBUTE_SHOOTRANGE, itemCriado:getType():getShootRange()+math.random(0, 1))
			end
			if receita.atributos.health ~= nil then
				if type(receita.atributos.health) == "table" then
					healthAdicional = math.random(receita.atributos.health[1], receita.atributos.health[2])
				else
					healthAdicional = receita.atributos.health
				end
				itemCriado:setAttribute(ITEM_ATTRIBUTE_NAME, itemCriado:getName().." [health: "..healthAdicional.."]")
			end
			if receita.atributos.mana ~= nil then
				if type(receita.atributos.mana) == "table" then
					manaAdicional = math.random(receita.atributos.mana[1], receita.atributos.mana[2])
				else
					manaAdicional = receita.atributos.mana
				end
				itemCriado:setAttribute(ITEM_ATTRIBUTE_NAME, itemCriado:getName().." [mana: "..manaAdicional.."]")
			end
			if receita.atributos.profissao ~= nil then
				local profissaoNome = receita.atributos.profissao
				if profissaoNome == 1 then
					profissaoNome = listaProfissoesNomes[math.random(#listaProfissoesNomes)]
				end
				itemCriado:setAttribute(ITEM_ATTRIBUTE_NAME, itemCriado:getName().." [profissão: "..profissaoNome.."]")
			end
			if receita.atributos.chance ~= nil then
				if type(receita.atributos.chance) == "table" then
					chanceAdicional = math.random(receita.atributos.chance[1], receita.atributos.chance[2])
				else
					chanceAdicional = receita.atributos.chance
				end
				itemCriado:setAttribute(ITEM_ATTRIBUTE_NAME, itemCriado:getName().." [chance adicional: "..chanceAdicional.."%]")
			end
		end
		self:addProfissaoReceitasFabricadas(profissaoId)
		self:resetProfissaoUltimasReceitasFalhadas(profissaoId, receitaId)
		self:sendTextMessage(MESSAGE_EVENT_DEFAULT, "Você fabricou com sucesso o item '"..capAll(itemCriado:getName()).."'.")
		self:addProfissaoPontos(profissaoId, pontos)
		posicaoMesaTrabalho:sendMagicEffect(efeitoSucesso)
	else
		self:addProfissaoReceitasFalhadas(profissaoId)
		self:addProfissaoUltimasReceitasFalhadas(profissaoId, receitaId)
		posicaoMesaTrabalho:sendMagicEffect(efeitoFalha)
		self:sendCancelMessage("O processo de criação falhou.")
	end
	self:addProfissaoSkillExp(profissaoId, experiencia)
	self:addProfissaoUltimaReceita(profissaoId, receitaId)
	if mesaTrabalhando ~= nil then
		mesaTrabalho:transform(mesaTrabalhando)
	end
	mesaTrabalho:removeAttribute(ITEM_ATTRIBUTE_ACTIONID)
	if bloquearMovimento == nil or bloquearMovimento == 0 then
		self:resetProfissaoIngredienteMelhoria(profissaoId)
		self:allowMovement(true)
	end
	return true
end